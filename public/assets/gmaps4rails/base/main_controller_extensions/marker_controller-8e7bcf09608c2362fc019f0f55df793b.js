!function(){this.Gmaps4Rails.MarkerController={addMarkers:function(r){var e,a,t,h,s,i,n,l;for(null!=this.markerClusterer&&this.clearClusterer(),e=n=0,l=r.length;l>n;e=++n)s=r[e],a=s.lat,h=s.lng,this.markers_conf.randomize&&(t=this.randomize(a,h),a=t[0],h=t[1]),i=this.createMarker({marker_picture:s.picture?s.picture:this.markers_conf.picture,marker_width:s.width?s.width:this.markers_conf.width,marker_height:s.height?s.height:this.markers_conf.length,marker_title:s.title?s.title:null,marker_anchor:s.marker_anchor?s.marker_anchor:null,shadow_anchor:s.shadow_anchor?s.shadow_anchor:null,shadow_picture:s.shadow_picture?s.shadow_picture:null,shadow_width:s.shadow_width?s.shadow_width:null,shadow_height:s.shadow_height?s.shadow_height:null,marker_draggable:s.draggable?s.draggable:this.markers_conf.draggable,rich_marker:s.rich_marker?s.rich_marker:null,zindex:s.zindex?s.zindex:null,lat:a,lng:h,index:e}),Gmaps4Rails.Common.mergeWith.call(i,s),i.createInfoWindow(),this.markers.push(i);return this.clusterize()},replaceMarkers:function(r){return this.clearMarkers(),this.markers=[],this.boundsObject=this.createLatLngBounds(),this.addMarkers(r)},clearMarkers:function(){var r,e,a,t;for(null!=this.markerClusterer&&this.clearClusterer(),t=this.markers,e=0,a=t.length;a>e;e++)r=t[e],r.clear();return this.markers=[]},showMarkers:function(){var r,e,a,t,h;for(t=this.markers,h=[],e=0,a=t.length;a>e;e++)r=t[e],h.push(r.show());return h},hideMarkers:function(){var r,e,a,t,h;for(t=this.markers,h=[],e=0,a=t.length;a>e;e++)r=t[e],h.push(r.hide());return h},randomize:function(r,e){var a,t,h,s;return h=this.markers_conf.max_random_distance*this.random(),s=this.markers_conf.max_random_distance*this.random(),a=parseFloat(r)+180/Math.PI*(s/6378137),t=parseFloat(e)+90/Math.PI*(h/6378137)/Math.cos(r),[a,t]}}}.call(this);