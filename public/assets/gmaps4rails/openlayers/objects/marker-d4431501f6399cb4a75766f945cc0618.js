!function(){var r={}.hasOwnProperty,e=function(e,t){function a(){this.constructor=e}for(var s in t)r.call(t,s)&&(e[s]=t[s]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};this.Gmaps4Rails.Openlayers.Marker=function(r){function t(r,e){this.controller=e,this.controller._createMarkersLayer(),this._createMarkerStyle(r),this._isBasicMarker(r)?this._styleForBasicMarker(r):this._styleForCustomMarker(r),this.serviceObject=new OpenLayers.Feature.Vector(this.createPoint(r.lat,r.lng),null,this.style_mark),this.serviceObject.geometry.transform(new OpenLayers.Projection("EPSG:4326"),new OpenLayers.Projection("EPSG:900913")),this.controller.markersLayer.addFeatures([this.serviceObject])}return e(t,r),t.include(Gmaps4Rails.Interfaces.Marker),t.include(Gmaps4Rails.Openlayers.Shared),t.include(Gmaps4Rails.Marker.Instance),t.extend(Gmaps4Rails.Marker.Class),t.extend(Gmaps4Rails.Configuration),t.prototype.createInfoWindow=function(){return null!=this.description?this.serviceObject.infoWindow=this.description:void 0},t.prototype.isVisible=function(){return!0},t.prototype._isBasicMarker=function(r){return null==r.marker_picture},t.prototype._createMarkerStyle=function(r){return this.style_mark=OpenLayers.Util.extend({},OpenLayers.Feature.Vector.style["default"]),this.style_mark.fillOpacity=1,this.style_mark.graphicTitle=r.marker_title},t.prototype._styleForBasicMarker=function(){return this.style_mark.graphicHeight=30,this.style_mark.externalGraphic="http://openlayers.org/dev/img/marker-blue.png"},t.prototype._styleForCustomMarker=function(r){return this.style_mark.graphicWidth=r.marker_width,this.style_mark.graphicHeight=r.marker_height,this.style_mark.externalGraphic=r.marker_picture,null!=r.marker_anchor&&(this.style_mark.graphicXOffset=r.marker_anchor[0],this.style_mark.graphicYOffset=r.marker_anchor[1]),null!=r.shadow_picture&&(this.style_mark.backgroundGraphic=r.shadow_picture,this.style_mark.backgroundWidth=r.shadow_width,this.style_mark.backgroundHeight=r.shadow_height,null!=r.shadow_anchor)?(this.style_mark.backgroundXOffset=r.shadow_anchor[0],this.style_mark.backgroundYOffset=r.shadow_anchor[1]):void 0},t}(Gmaps4Rails.Common)}.call(this);