!function(){var t={}.hasOwnProperty,e=function(e,o){function r(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};this.Gmaps4Rails.Bing.Map=function(t){function o(t,e){var o,r,n;this.controller=e,r=this.setConf(),this.options=this.mergeObjects(t,r),o={credentials:this.options.provider_key,mapTypeId:this._getMapType(this.options),center:this.createLatLng(this.options.center_latitude,this.options.center_longitude),zoom:this.options.zoom},n=this.mergeObjects(t.raw,o),this.serviceObject=new Microsoft.Maps.Map(document.getElementById(this.options.id),n)}return e(o,t),o.include(Gmaps4Rails.Interfaces.Map),o.include(Gmaps4Rails.Map),o.include(Gmaps4Rails.Bing.Shared),o.include(Gmaps4Rails.Configuration),o.prototype.CONF={type:"road"},o.prototype.extendBoundsWithMarkers=function(){var t,e,o,r,n;for(t=[],n=this.controller.markers,o=0,r=n.length;r>o;o++)e=n[o],t.push(e.serviceObject.getLocation());return this.boundsObject=Microsoft.Maps.LocationRect.fromLocations(t)},o.prototype.extendBoundsWithPolyline=function(){},o.prototype.extendBoundsWithPolygon=function(){},o.prototype.extendBoundsWithCircle=function(){},o.prototype.extendBound=function(){},o.prototype.adaptToBounds=function(){return this._fitBounds()},o.prototype.centerMapOnUser=function(t){return this.serviceObject.setView({center:t})},o.prototype._fitBounds=function(){return this.serviceObject.setView({bounds:this.boundsObject})},o.prototype._getMapType=function(t){switch(t.type){case"road":return Microsoft.Maps.MapTypeId.road;case"aerial":return Microsoft.Maps.MapTypeId.aerial;case"auto":return Microsoft.Maps.MapTypeId.auto;case"birdseye":return Microsoft.Maps.MapTypeId.birdseye;case"collinsBart":return Microsoft.Maps.MapTypeId.collinsBart;case"mercator":return Microsoft.Maps.MapTypeId.mercator;case"ordnanceSurvey":return Microsoft.Maps.MapTypeId.ordnanceSurvey;default:return Microsoft.Maps.MapTypeId.auto}},o}(Gmaps4Rails.Common)}.call(this);